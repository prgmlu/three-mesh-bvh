function e(e,n,t,o){Object.defineProperty(e,n,{get:t,set:o,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},i=t.parcelRequire4485;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return o[e]=t,n.call(t.exports,t,t.exports),t.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},t.parcelRequire4485=i),i.register("27Lyk",(function(n,t){var o,r;e(n.exports,"register",(()=>o),(e=>o=e)),e(n.exports,"resolve",(()=>r),(e=>r=e));var i={};o=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)i[n[t]]=e[n[t]]},r=function(e){var n=i[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),i("27Lyk").register(JSON.parse('{"ggXQv":"asyncGenerate.c8e6bcbb.js","b4BBl":"generateAsync.worker.5bf93d10.js","9JIya":"asyncGenerate.924881df.js","bEy7u":"asyncGenerate.6b6e94f2.js","817sr":"asyncGenerate.4d3a79b0.js"}'));var a,d,l=i("ilwiq"),s={};a=s,d=function(){var e=function(){function n(e){return r.appendChild(e.dom),e}function t(e){for(var n=0;n<r.children.length;n++)r.children[n].style.display=n===e?"block":"none";o=e}var o=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",(function(e){e.preventDefault(),t(++o%r.children.length)}),!1);var i=(performance||Date).now(),a=i,d=0,l=n(new e.Panel("FPS","#0ff","#002")),s=n(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=n(new e.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:n,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){d++;var e=(performance||Date).now();if(s.update(e-i,200),e>a+1e3&&(l.update(1e3*d/(e-a),100),a=e,d=0,c)){var n=performance.memory;c.update(n.usedJSHeapSize/1048576,n.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:r,setMode:t}};return e.Panel=function(e,n,t){var o=1/0,r=0,i=Math.round,a=i(window.devicePixelRatio||1),d=80*a,l=48*a,s=3*a,c=2*a,u=3*a,p=15*a,f=74*a,w=30*a,m=document.createElement("canvas");m.width=d,m.height=l,m.style.cssText="width:80px;height:48px";var h=m.getContext("2d");return h.font="bold "+9*a+"px Helvetica,Arial,sans-serif",h.textBaseline="top",h.fillStyle=t,h.fillRect(0,0,d,l),h.fillStyle=n,h.fillText(e,s,c),h.fillRect(u,p,f,w),h.fillStyle=t,h.globalAlpha=.9,h.fillRect(u,p,f,w),{dom:m,update:function(l,g){o=Math.min(o,l),r=Math.max(r,l),h.fillStyle=t,h.globalAlpha=1,h.fillRect(0,0,d,p),h.fillStyle=n,h.fillText(i(l)+" "+e+" ("+i(o)+"-"+i(r)+")",s,c),h.drawImage(m,u+a,p,f-a,w,u,p,f-a,w),h.fillRect(u+f-a,p,a,w),h.fillStyle=t,h.globalAlpha=.9,h.fillRect(u+f-a,p,a,i((1-l/g)*w))}}},e},"object"==typeof s?s=d():"function"==typeof define&&define.amd?define(d):a.Stats=d();var c=i("jiuw3"),u=i("8todg"),p=i("4CEV9");l.Mesh.raycast=p.acceleratedRaycast;const f={useWebWorker:!0,radius:1,tube:.3,tubularSegments:500,radialSegments:500,p:3,q:5,displayHelper:!1,helperDepth:10};let w,m,h,g,y,b,v,x,S,M,G,T,H,C,E=!1;function R(){if(E)return;E=!0,g&&(g.material.dispose(),g.geometry.dispose(),x.remove(g),x.remove(v));const e=window.performance.now(),n=window.performance.now();g=new l.Mesh(new l.TorusKnotGeometry(f.radius,f.tube,f.tubularSegments,f.radialSegments,f.p,f.q),new l.MeshStandardMaterial({color:new l.Color(5093036).convertSRGBToLinear(),roughness:.75}));const t=window.performance.now()-n,o=window.performance.now();let r;if(f.useWebWorker){const n=e=>{const n=(100*e).toFixed(0);G.style.visibility="visible",T.style.width=`${n}%`,H.innerText=`${n}%`};C.generate(g.geometry,{onProgress:n}).then((e=>{G.style.visibility="hidden",g.geometry.boundsTree=e,x.add(g);const n=window.performance.now()-o;E=!1,v=new p.MeshBVHVisualizer(g,0),v.depth=f.helperDepth,f.displayHelper&&v.update(),x.add(v),M.textContent=`Geometry Generation Time : ${t.toFixed(3)}ms\nBVH Generation Time : ${n.toFixed(3)}ms\nFrame Stall Time : ${r.toFixed(3)}`})),r=window.performance.now()-e}else{g.geometry.boundsTree=new p.MeshBVH(g.geometry),r=window.performance.now()-e,x.add(g);const n=window.performance.now()-o;E=!1,v=new p.MeshBVHVisualizer(g),v.depth=f.helperDepth,v.update(),x.add(v),M.textContent=`Geometry Generation Time : ${t.toFixed(3)}ms\nBVH Generation Time : ${n.toFixed(3)}ms\nFrame Stall Time : ${r.toFixed(3)}`}}!function(){M=document.getElementById("output"),G=document.getElementById("loading-container"),T=document.querySelector("#loading-container .bar"),H=document.querySelector("#loading-container .text"),w=new l.WebGLRenderer({antialias:!0}),w.setPixelRatio(window.devicePixelRatio),w.setSize(window.innerWidth,window.innerHeight),w.setClearColor(16763432,1),w.outputEncoding=l.sRGBEncoding,document.body.appendChild(w.domElement),h=new l.Scene,h.fog=new l.Fog(16763432,20,60);const e=new l.DirectionalLight(16777215,1);e.position.set(1,1,1),h.add(e),h.add(new l.AmbientLight(11583173,.8)),m=new l.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50),m.position.set(0,0,4),m.far=100,m.updateProjectionMatrix(),y=new l.Clock,S=new(n(s)),document.body.appendChild(S.dom),x=new l.Group,h.add(x);for(let e=0;e<400;e++){const e=new l.Mesh(new l.SphereGeometry(1,32,32),new l.MeshBasicMaterial);e.position.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).multiplyScalar(70),e.scale.setScalar(.3*Math.random()+.1),x.add(e)}C=new u.GenerateMeshBVHWorker,b=new c.GUI;const t=b.addFolder("helper");t.add(f,"displayHelper").name("enabled").onChange((e=>{e&&v&&v.update()})),t.add(f,"helperDepth",1,50,1).onChange((e=>{v&&(v.depth=e,v.update())})),t.open();const o=b.addFolder("knot");o.add(f,"useWebWorker"),o.add(f,"radius",.5,2,.01),o.add(f,"tube",.2,1.2,.01),o.add(f,"tubularSegments",50,2e3,1),o.add(f,"radialSegments",5,2e3,1),o.add(f,"p",1,10,1),o.add(f,"q",1,10,1),o.add({regenerateKnot:R},"regenerateKnot").name("regenerate"),o.open(),R(),window.addEventListener("resize",(function(){m.aspect=window.innerWidth/window.innerHeight,m.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight)}),!1)}(),function e(){S.update(),requestAnimationFrame(e);let n=y.getDelta();x.rotation.x+=.4*n,x.rotation.y+=.6*n,v&&(v.visible=f.displayHelper);w.render(h,m)}();
//# sourceMappingURL=asyncGenerate.c8e6bcbb.js.map
